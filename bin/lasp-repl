#!/usr/bin/env ruby

require "lasp"
require "readline"

Lasp::load_stdlib!

trap("SIGINT") { puts "\n\nBye!"; exit }

puts "((( LÃ¤sp v#{Lasp::VERSION} REPL (ctrl+c to exit) )))\n\n"
loop do
  begin
    input =  Readline.readline("lasp> ", true)
    result = Lasp::execute(input)
    puts "   => #{result.inspect}"
  rescue
    puts "   *> #{$!}"
  end
end
