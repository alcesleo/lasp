#!/usr/bin/env ruby

require_relative "../lib/eval"

# Load the stdlib
Lasp::execute_file(File.expand_path("./lib/stdlib.lasp"))

trap("SIGINT") { puts "\n\nBye!"; exit! }

loop do
  begin
    print "lasp> "
    input = gets.chomp

    result = Lasp::execute(input)
    puts "  =>> #{result.inspect}"
  rescue
    puts "  **> #{$!}"
  end
end
